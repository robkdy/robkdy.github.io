<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Closed-End-Funds: Factors for Machine Learning | MORE DATA</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="canonical" href="https://robkdy.github.io/posts/closed-end-funds/">
<!--[if lt IE 9]>
            <script src="../../assets/js/html5shiv.min.js"></script>
            <script src="../../assets/js/respond.min.js"></script>
        <![endif]--><meta name="author" content="Robin Tran">
<link rel="next" href="../predicting-recessions/" title="Predicting Recessions" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar  header-panel shadow-z-3" role="navigation"><div class="container-fluid">
        <div class="row">
          <div class="col-xs-3">
            <h1 class="title-blog">
                <a href="https://robkdy.github.io/">
                        <span id="blog-title">MORE DATA</span>
                    </a>
            </h1>
          </div>
          <div class="col-xs-9">
            <a id="hamburger" class="btn btn-raised" href="javascript:void(0);" onclick="menuToggle();">☰</a>
          </div>
        </div>
      </div>
<!-- /.container-fluid -->
</nav><div class="container-fluid main" id="content" role="main">
        <div class="row">
            <nav class="col-xs-12 col-sm-3 menu"><ul>
<li class="withripple"><a href="../../archive.html">Archive</a></li>
                <li class="withripple"><a href="../../pages/projects/index.html">Projects</a></li>
                <li class="withripple"><a href="../../pages/contact/index.html">Contact</a></li>

                    
                </ul>
<ul></ul></nav><div class="posts-material col-xs-12 col-sm-9">
                <div class="col-xs-12 col-md-11 content-material">
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Closed-End-Funds: Factors for Machine Learning</a></h1>
<hr>
<div class="metadata">
            <span class="byline author vcard">
                <a href=".">
                        <i class="mdi-action-face-unlock"></i>
                    Robin Tran
                </a>
            </span>
            <span class="dateline">
                <a href="." rel="bookmark"><i class="mdi-device-access-time"></i>
                    <time class="published dt-published" datetime="2019-07-21T20:01:04-05:00" itemprop="datePublished" title="2019-07-21 20:01">2019-07-21 20:01</time></a>
            </span>
                <span class="commentline">        
</span>
        </div>
        
        <hr></header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<h3><strong>USING DISCOUNTS AND OTHER FACTORS TO  PREDICT FUTURE RETURNS</strong></h3>
<h3>Introduction</h3>
<p>Closed-End Funds (CEFs) are a particular type of investment vehicle with some interesting properties. They are like traditional open-ended mutual funds with unique properties like:</p>
<ul>
<li>shares are not created or redeemed when traded</li>
<li>leverage is allowed</li>
<li>shares are traded throughout the day</li>
</ul>
<p>These properties result in CEFs trading at a discount or premium to their net asset value (NAV). Whereas, stocks, ETFs, and mutual funds trade at or very close to their NAV.  The question is can you predict future returns based on the discount/premium, combined with other variables like leverage, expense ratio, etc.</p>
<p>The closed-end fund market is very small compared to other forms of investments. The entire landscape of the closed-end fund market is about 500 funds and around $250 billion in net assets. To put this in perspective, there are 16 companies in the S&amp;P 500 with a greater market cap than the entire closed-end fund space! Mutual fund assets are around $18 trillion, and ETFs are around $5 trillion. This is probably why there is far less written about this space. The really big investors will probably ignore this space due to small net assets and lack of liquidity.</p>
<h3>Data</h3>
<p>The Closed-End Funds (CEFs) data consisted of daily historical prices, NAVs, adjusted prices, volume, and distributions dating back to the year 2000. In addition, fundamental data consisting of category, market capitalization, net expense ratio, and distribution frequency, was available for each fund. </p>
<p>The fundamental data for all the funds broke them down into 55 different categories. To simplify, I narrowed down to 5 categories. </p>
<ol>
<li>Equity US</li>
<li>Equity Foreign</li>
<li>Fixed Income (non- Municipal)</li>
<li>Municipal Bonds</li>
<li>Precious Metals</li>
</ol>
<p>Precious Metals only had 4 funds, so that was deleted to simplify further. Removing funds without at least a 5-yr record reduced the total number of funds to 445 from the initial 499 number of funds. </p>
<h3>Exploratory Data Analysis</h3>
<p>In this section, I will explore correlations of certain factors (independent variables) to future returns (dependent variables). </p>
<h4>Discount</h4>
<p>Unlike mutual funds, ETFs, and stocks, closed-end funds can trade at a considerable discount to their net asset value. We can explore this uniqueness by plotting regressions that show correlations between discounts and forward 1, 3, 5, and 10 year returns across all four categories. The plots are below.</p>
<p><img alt="" src="../../images/cef-blog0.png" title=""></p>
<p><img alt="" src="../../images/cef-blog1.png" title=""></p>
<p><img alt="" src="../../images/cef-blog2.png" title=""></p>
<p><img alt="" src="../../images/cef-blog3.png" title=""></p>
<p>The pearson correlation between discounts and returns for categories can be summarized by the following table:</p>
<table border="1">
<tr>
<td>
<p style="text-align: left">
<strong>Category</strong></p>

   </td>
   <td>
<p style="text-align: left">
<strong>1-yr return</strong></p>

   </td>
   <td>
<p style="text-align: left">
<strong>3-yr return</strong></p>

   </td>
   <td>
<p style="text-align: left">
<strong>5-yr return</strong></p>

   </td>
   <td>
<p style="text-align: left">
<strong>10-yr return</strong></p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: left">
<strong>Equity Foreign</strong></p>
   </td>

   <td>
<p style="text-align: right">
0.026912</p>
   </td>

   <td>
<p style="text-align: right">
-0.260944</p>

   </td>
   <td>
<p style="text-align: right">
-0.583268</p>

   </td>
   <td>
<p style="text-align: right">
-0.62627</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: left">
<strong>Equity US</strong></p>

   </td>

   <td>
<p style="text-align: right">
-0.235003</p>

   </td>
   <td>
<p style="text-align: right">
-0.06195</p>

   </td>
   <td>
<p style="text-align: right">
-0.404102</p>

   </td>
   <td>
<p style="text-align: right">
-0.176689</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: left">
<strong>Fixed Income</strong></p>

   </td>

   <td>
<p style="text-align: right">
-0.208146</p>

   </td>
   <td>
<p style="text-align: right">
-0.289813</p>

   </td>
   <td>
<p style="text-align: right">
-0.545451</p>

   </td>
   <td>
<p style="text-align: right">
-0.221148</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>Municipal Bonds</strong></p>

   </td>

   <td>
<p style="text-align: right">
-0.49617</p>

   </td>
   <td>
<p style="text-align: right">
-0.479254</p>

   </td>
   <td>
<p style="text-align: right">
-0.444536</p>

   </td>
   <td>
<p style="text-align: right">
-0.607414</p>

   </td>
  </tr>
</table>
<p>The best correlation between Discount and 1 and 3-yr returns is in Municipal Bonds. For 5 and 10-yr returns it is Equity Foreign. For Equity Foreign and Muni Bonds, the best correlation is for 10-yr returns, for Equity US and Fixed Income the best correlation is for 5-yr returns. They tend to get better the longer the time horizon, Muni bonds appear to correlate the best, and none of the correlations are all that strong. All these correlations are for the mean values of all the funds in the category. If we go down to an individual fund, we might find it more interesting. For example, here is the discount to 1-yr return for the fund NID, which shows a much better correlation.</p>
<h4>Z-Score</h4>
<p>There is another measure of discount that might correlate better with future returns, called the Z-score. Just like in statistics, the Z-score of closed-end funds is the difference of the discount to mean of the discount over a specified period, divided by the standard deviation of the discount over the same period.</p>
<p><img alt="" src="../../images/cef-blog18.png" title=""></p>
<p><img alt="" src="../../images/cef-blog19.png" title=""></p>
<p><img alt="" src="../../images/cef-blog20.png" title=""></p>
<p><img alt="" src="../../images/cef-blog21.png" title=""><img alt="" src="../../images/cef-blog22.png" title=""></p>
<p>Below are the correlation scatter plots of various periods of z-scores with the subsequent 1-yr return.</p>
<p><img alt="" src="../../images/cef-blog5.png" title=""></p>
<p><img alt="" src="../../images/cef-blog6.png" title=""></p>
<p>It appears that the Z-score is not very predictive of 1-year returns. However like discounts, perhaps at an individual fund level, there may be better correlations.</p>
<h4>Past Performance</h4>
<p>Often, funds will state “past performance is no guarantee of future results”. Let’s see if they actually correlate. Here is the past 1-yr returns versus the forward 1-yr returns and the past 10-yr returns versus the forward 1-yr returns for the period ending on 03/05/2019.</p>
<p><img alt="" src="../../images/cef-blog7.png" title=""></p>
<p><img alt="" src="../../images/cef-blog8.png" title=""></p>
<p>The funds are correct to state that past performance doesn’t result in future results. All categories but fixed income don’t show much of any correlation. For fixed income, 10-yr return shows a better correlation than 1-yr returns. Maybe there is persistent skill in managing fixed income funds?</p>
<h4>The 200 Day Moving Average</h4>
<p>The 200-day moving average (200dma) is a popular indicator as a smoothing function and longer term trend indicator. We can calculate how far as a percent from the 200dma each fund is and see if it correlates with future 1-yr returns for the period ending 03/05/19.</p>
<p><img alt="" src="../../images/cef-blog9.png" title=""></p>
<p>It looks like being below the 200dma is better for future returns, but not always. Again it would probably be better to drill down to individual funds and across different periods.</p>
<h4>Net Expense Ratio</h4>
<p>Net expense ratio is how much the funds charge to manage the assets. The data set does not have historical net expense ratio so I can’t really do an accurate analysis. Assuming they were similar to a year ago, we can see what happened in the last year.</p>
<p><img alt="" src="../../images/cef-blog10.png" title=""></p>
<p>Nothing much there.</p>
<p>To summarize, we’ll take a closer look at the following to put in a model:</p>
<ul>
<li>Discount</li>
<li>Past 10-yr return</li>
<li>Percent from 200 day moving average</li>
</ul>
<h3>In-Depth Analysis</h3>
<p>Specific funds may correlate better than the general market, so I will try to determine which funds to predict. I’m going to focus on predicting the 1-yr forward return. Eliminating funds without a past 10-yr return reduces the number of funds to 359 from 445.</p>
<p>Best discount to 1-yr forward return correlation:</p>
<table border="1">
<tr>
<td>
<p style="text-align: right">
<strong>Ticker</strong></p>

   </td>
   <td>
<p style="text-align: right">
<strong>1-yr forward return</strong></p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>GDL</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.889059</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>AOD</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.855981</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>FEO</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.847928</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>AGD</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.844202</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>BKT</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.843367</p>

   </td>
  </tr>
</table>
<p>Best below 200 day moving average to 1-yr forward return correlation:</p>
<table border="1">
<tr>
<td>
<p style="text-align: right">
<strong>Ticker</strong></p>

   </td>
   <td>
<p style="text-align: right">
<strong>1-yr forward return</strong></p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>PKO</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.831584</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>MHI</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.78961</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>HTY</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.789423</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>FMY</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.768721</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>BTA</strong></p>

   </td>
   <td>
<p style="text-align: right">
-0.765692</p>

   </td>
  </tr>
</table>
<p>Best past 10-yr return to 1-yr forward return correlation:</p>
<table border="1">
<tr>
<td>
<p style="text-align: right">
<strong>Ticker</strong></p>

   </td>
   <td>
<p style="text-align: right">
<strong>1-yr forward return</strong></p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>CAF</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.759755</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>FGB</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.385954</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>IRL</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.304636</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>RIF</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.275595</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>BKT</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.249453</p>

   </td>
  </tr>
</table>
<p>Graphically, here’s how some funds visually relates to a corresponding feature.</p>
<p><img alt="" src="../../images/cef-blog11.png" title=""></p>
<p><img alt="" src="../../images/cef-blog12.png" title=""></p>
<p><img alt="" src="../../images/cef-blog13.png" title=""></p>
<p>I’m going to pick the Linear Regression, and Random Forest Regression model to see if any predictions are possible. Running all the funds through each model results in the following funds with the best R2 score on the out of sample test data.</p>
<p>Linear Regression:</p>
<table border="1">
<tr>
<td>
<p style="text-align: right">
<strong>Ticker</strong></p>

   </td>
   <td>
<p style="text-align: right">
<strong>R2 Score</strong></p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>MFV</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.676503</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>GCV</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.605562</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>GRX</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.598048</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>SRV</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.546841</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>PNF</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.538229</p>

   </td>
  </tr>
</table>
<p>Random Forest Regression:</p>
<table border="1">
<tr>
<td>
<p style="text-align: right">
<strong>Ticker</strong></p>

   </td>
   <td>
<p style="text-align: right">
<strong>R2 Score</strong></p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>EGF</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.811655</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>BTA</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.797531</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>QQQX</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.69472</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>ADX</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.44853</p>

   </td>
  </tr>
<tr>
<td>
<p style="text-align: right">
<strong>RMT</strong></p>

   </td>
   <td>
<p style="text-align: right">
0.430567</p>

   </td>
  </tr>
</table>
<p>Linear Regression for MFV and GCV:</p>
<p><img alt="" src="../../images/cef-blog14.png" title=""></p>
<p><img alt="" src="../../images/cef-blog15.png" title=""></p>
<p>Random Forest Regression for EGF</p>
<p><img alt="" src="../../images/cef-blog16.png" title=""></p>
<p><img alt="" src="../../images/cef-blog17.png" title=""></p>
<h3>Conclusions</h3>
<p>Using the features of Discount to NAV, Past 10-yr returns, and Distance from 200 day moving average, and using the Linear Regression and Random Forest Regression models, at least some funds show some predictability through machine learning. This is just a starting point of exploring this space. Some other areas to dive deeper include:</p>
<ul>
<li>The categories may have been oversimplified. If I break it down further, I could compare future returns versus the category to get outperformance.</li>
<li>Different future return periods. E.g. 1-month, or 10-years.</li>
<li>More feature engineering to get seasonal trends, slope of moving averages, etc.</li>
<li>Try more ML models</li>
</ul>
<!-- Docs to Markdown version 1.0β17 -->
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager">
<li class="next">
                <a href="../predicting-recessions/" rel="next" title="Predicting Recessions">Next post</a>
            </li>
        </ul></nav></aside><section class="comments"><h2>
<i class="mdi-communication-forum"></i>Comments</h2>
        <hr></section></article>
</div>
            </div>
        </div>
        <button class="btn btn-fab btn-raised btn-material-green btn-footer" data-toggle="modal" data-target="#footer-dialog">
            <i class="mdi-communication-message"></i>
        </button>
        <div id="footer-dialog" class="modal fade" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">MORE DATA credits</h4>
              </div>
              <div class="modal-body">
                    Contents © 2019         <a href="mailto:rob2tran@gmail.com">Robin Tran</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
                    
              </div>
              <div class="modal-footer">
                <button class="btn btn-primary" data-dismiss="modal">Ok</button>
              </div>
            </div>
          </div>
        </div>
        <div class="source-button">
        </div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>

            $(document).ready(function() {
                // This command is used to initialize some elements and make them work properly
                $.material.init();
            });

            $(window).on("resize", function() {
                if($(window).width() > 767) {
                  $("html, body").height($(window).height());
                  $(".main, .menu").height($(window).height() - $(".header-panel").outerHeight() - 76 );
                  $(".posts-material").height($(window).height());
                } else {
                  $("html, body").css('height', '');
                  $(".main, .menu").css('height', '');
                  $(".posts-material").css('height', '');
                }
            }).trigger("resize");

            function menuToggle() {
                $("nav.menu, ul").toggleClass('responsive', '');
            }
        </script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
